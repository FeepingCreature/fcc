/*
	Header: dirent.nt
	
	Simplified dirent binding.
*/
module dirent;

import std.string, c.dirent, c.errno, c.string;

/*
	Function: listDirectory
	Lists a directory's contents and returns an array of file/directory names.
*/
string[] listDirectory(string path) {
	dirent* entry;
	DIR* dp;
	
	string[] ret;
 
 	dp = opendir toStringz path;
	if dp==null
		raise new Error CToString strerror errno;
	
	entry = readdir(dp);
	while (entry) {
		ret~=entry.d_name;
		entry = readdir(dp);
	}
	
	return ret;
}

